(()=>{"use strict";const e=(()=>{class e{constructor(e){this.title=e,this.todos=[]}}let t=[];return{projectList:t,addProject:function(n){const d=new e(n);t.push(d)},getProjectIndex:function(e){return t.map((e=>e.title)).indexOf(e)},deleteProject:function(e){t.splice(e,1)},editProject:function(e,n,d){t[e][n]=d}}})();e.addProject("Default project");const t=e,n=(()=>{class e{constructor(e,t,n,d,o){this.title=e,this.description=t,this.dueDate=n,this.priority=d,this.completed=o}}return{addTodo:function(n,d,o,c,r,i){const s=new e(n,d,o,c,r,i);t.projectList[i].todos.push(s)},deleteTodo:function(e,n){t.projectList[e].todos.splice(n,1)},getTaskIndex:function(e){return t.projectList[t.getProjectIndex("Test project")].todos.map((e=>e.title)).indexOf(e)},editTodo:function(e,n,d,o){t.projectList[e].todos[n][d]=o}}})(),d=(()=>{let e=0;function d(){document.querySelector("#add-project-form").style.display="none"}function c(){document.querySelector("#add-todo-form").style.display="none"}return{selectProject:function(n){e=t.getProjectIndex(n.target.innerText),o.renderTodos(e)},addNewProject:function(e){e.preventDefault();const n=document.querySelector("input[id=title]");t.addProject(n.value),d(),o.renderProjects()},addNewTodo:function(t){t.preventDefault();const d=document.querySelector("input[id=title]"),r=document.querySelector("textarea[id=description]"),i=document.querySelector("input[id=due-date]"),s=document.querySelector("select[id=priority]");n.addTodo(d.value,r.value,i.value,s.value,!1,e),c(),o.renderTodos(e)},openAddProjectForm:function(){o.renderAddProjectForm()},closeAddProjectForm:d,openAddTodoForm:function(){o.renderAddTodoForm()},closeAddTodoForm:c}})(),o=(()=>{const e=document.getElementById("content");return{renderHeader:function(){const e=document.getElementById("header"),t=document.createElement("h1");t.innerText="Todo List",e.appendChild(t)},renderProjects:function(){const e=document.getElementById("projects");e.innerHTML="";const n=document.createElement("button");n.setAttribute("class","add-project-button");const o=document.createElement("img");o.setAttribute("src","./img/add-light.svg");const c=document.createElement("h2");c.innerText="Add new project",n.appendChild(o),n.appendChild(c),n.addEventListener("click",d.openAddProjectForm);const r=document.createElement("div");t.projectList.forEach((function(e){const t=document.createElement("div");t.setAttribute("class","project-name"),t.innerText=e.title,r.appendChild(t)})),e.appendChild(n),e.appendChild(r),document.querySelectorAll(".project-name").forEach((function(e){e.addEventListener("click",d.selectProject)}))},renderTodos:function(e){const n=document.getElementById("todos");n.innerHTML="";const o=document.createElement("button");o.setAttribute("class","add-todo-button");const c=document.createElement("img");c.setAttribute("src","./img/add.svg"),o.appendChild(c),o.addEventListener("click",d.openAddTodoForm);const r=document.createElement("div");t.projectList[e].todos.forEach((function(e){const t=document.createElement("div");t.setAttribute("class","todo-name"),t.innerText=e.title,r.appendChild(t)})),n.appendChild(o),n.appendChild(r)},renderAddProjectForm:function(){const t=document.createElement("div");t.setAttribute("id","add-project-form");const n=document.createElement("form");n.setAttribute("action","#"),n.setAttribute("id","form");const o=document.createElement("div");o.setAttribute("class","form-item");const c=document.createElement("label");c.setAttribute("for","title");const r=document.createTextNode("Project title:");c.appendChild(r);const i=document.createElement("input");i.setAttribute("type","text"),i.setAttribute("id","title"),i.setAttribute("name","title");const s=document.createElement("button");s.setAttribute("id","submit-new-project-form");const a=document.createTextNode("Submit");s.appendChild(a),s.addEventListener("click",d.addNewProject),o.appendChild(c),o.appendChild(i),n.appendChild(o),n.appendChild(s),t.appendChild(n),e.appendChild(t)},renderAddTodoForm:function(){const t=document.createElement("div");t.setAttribute("id","add-todo-form");const n=document.createElement("form");n.setAttribute("action","#"),n.setAttribute("id","form");const o=document.createElement("div");o.setAttribute("class","form-item");const c=document.createElement("label");c.setAttribute("for","title");const r=document.createTextNode("Todo title:");c.appendChild(r);const i=document.createElement("input");i.setAttribute("type","text"),i.setAttribute("id","title"),i.setAttribute("name","title");const s=document.createElement("div");s.setAttribute("class","form-item");const a=document.createElement("label");a.setAttribute("for","description");const u=document.createTextNode("Todo description:");a.appendChild(u);const l=document.createElement("textarea");l.setAttribute("id","description"),l.setAttribute("name","description");const m=document.createElement("div");m.setAttribute("class","form-item");const p=document.createElement("label");p.setAttribute("for","due-date");const h=document.createTextNode("Todo due date:");p.appendChild(h);const b=document.createElement("input");b.setAttribute("type","date"),b.setAttribute("id","due-date"),b.setAttribute("name","due-date");const f=document.createElement("div");f.setAttribute("class","form-item");const A=document.createElement("label");A.setAttribute("for","priority");const E=document.createTextNode("Todo priority:");A.appendChild(E);const j=document.createElement("select");j.setAttribute("id","priority"),j.setAttribute("name","priority"),["Not urgent","Normal","Urgent"].forEach((function(e){let t=document.createElement("option");t.setAttribute("value",e);let n=document.createTextNode(e);t.appendChild(n),j.appendChild(t)}));const C=document.createElement("button");C.setAttribute("id","submit-new-todo-form");const T=document.createTextNode("Submit");C.appendChild(T),C.addEventListener("click",d.addNewTodo),o.appendChild(c),o.appendChild(i),s.appendChild(a),s.appendChild(l),m.appendChild(p),m.appendChild(b),f.appendChild(A),f.appendChild(j),n.appendChild(o),n.appendChild(s),n.appendChild(m),n.appendChild(f),n.appendChild(C),t.appendChild(n),e.appendChild(t)}}})();t.addProject("Test project"),n.addTodo("test","test description",new Date,"important",!1,1),n.addTodo("test2","another test description",new Date,"not important",!1,1),o.renderHeader(),o.renderProjects()})();