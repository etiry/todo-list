(()=>{"use strict";const t=(()=>{class t{constructor(t){this.title=t,this.todos=[]}}let e=[];return{projectList:e,addProject:function(n){const d=new t(n);e.push(d)},getProjectIndex:function(t){return e.map((t=>t.title)).indexOf(t)},deleteProject:function(t){e.splice(t,1)},editProject:function(t,n,d){e[t][n]=d}}})();t.addProject("Default project");const e=t,n=(()=>{class t{constructor(t,e,n,d,o){this.title=t,this.description=e,this.dueDate=n,this.priority=d,this.completed=o}}return{addTodo:function(n,d,o,c,r,i){const s=new t(n,d,o,c,r,i);e.projectList[i].todos.push(s)},deleteTodo:function(t,n){e.projectList[t].todos.splice(n,1)},getTaskIndex:function(t){return e.projectList[e.getProjectIndex("Test project")].todos.map((t=>t.title)).indexOf(t)},editTodo:function(t,n,d,o){e.projectList[t].todos[n][d]=o}}})(),d=(()=>{let t=0;function d(){const t=document.getElementById("content"),e=document.getElementById("add-project-form");t.removeChild(e)}function c(){const t=document.getElementById("content"),e=document.getElementById("add-todo-form");t.removeChild(e)}return{selectProject:function(n){t=e.getProjectIndex(n.target.innerText),o.renderTodos(t)},addNewProject:function(t){t.preventDefault();const n=document.querySelector("input[id=title]");e.addProject(n.value),d(),o.renderProjects()},addNewTodo:function(e){e.preventDefault();const d=document.querySelector("input[id=title]"),r=document.querySelector("textarea[id=description]"),i=document.querySelector("input[id=due-date]"),s=document.querySelector("select[id=priority]");n.addTodo(d.value,r.value,i.value,s.value,!1,t),c(),o.renderTodos(t)},openAddProjectForm:function(){document.getElementById("add-todo-form")&&c(),document.getElementById("add-project-form")||o.renderAddProjectForm()},closeAddProjectForm:d,openAddTodoForm:function(){document.getElementById("add-project-form")&&d(),document.getElementById("add-todo-form")||o.renderAddTodoForm()},closeAddTodoForm:c}})(),o=(()=>{const t=document.getElementById("content");return{contentDiv:t,renderHeader:function(){const t=document.getElementById("header"),e=document.createElement("h1");e.innerText="Todo List",t.appendChild(e)},renderProjects:function(){const t=document.getElementById("projects");t.innerHTML="";const n=document.createElement("button");n.setAttribute("class","add-project-button");const o=document.createElement("img");o.setAttribute("src","./img/add-light.svg");const c=document.createElement("h2");c.innerText="Add new project",n.appendChild(o),n.appendChild(c),n.addEventListener("click",d.openAddProjectForm);const r=document.createElement("div");e.projectList.forEach((function(t){const e=document.createElement("div");e.setAttribute("class","project-name"),e.innerText=t.title,r.appendChild(e)})),t.appendChild(n),t.appendChild(r),document.querySelectorAll(".project-name").forEach((function(t){t.addEventListener("click",d.selectProject)}))},renderTodos:function(t){const n=document.getElementById("todos");n.innerHTML="";const o=document.createElement("button");o.setAttribute("class","add-todo-button");const c=document.createElement("img");c.setAttribute("src","./img/add.svg");const r=document.createElement("h2");r.innerText="Add new todo",o.appendChild(c),o.appendChild(r),o.addEventListener("click",d.openAddTodoForm);const i=document.createElement("div");e.projectList[t].todos.forEach((function(t){const e=document.createElement("div");e.setAttribute("class","todo-name"),e.innerText=t.title,i.appendChild(e)})),n.appendChild(o),n.appendChild(i)},renderAddProjectForm:function(){const e=document.createElement("div");e.setAttribute("id","add-project-form");const n=document.createElement("img");n.setAttribute("src","./img/close-light.svg"),n.setAttribute("class","close-button"),n.addEventListener("click",d.closeAddProjectForm);const o=document.createElement("form");o.setAttribute("action","#"),o.setAttribute("id","form");const c=document.createElement("div");c.setAttribute("class","form-item");const r=document.createElement("label");r.setAttribute("for","title");const i=document.createTextNode("Project title:");r.appendChild(i);const s=document.createElement("input");s.setAttribute("type","text"),s.setAttribute("id","title"),s.setAttribute("name","title");const a=document.createElement("button");a.setAttribute("class","submit-button");const l=document.createTextNode("Submit");a.appendChild(l),a.addEventListener("click",d.addNewProject),c.appendChild(r),c.appendChild(s),o.appendChild(c),o.appendChild(a),e.appendChild(n),e.appendChild(o),t.appendChild(e)},renderAddTodoForm:function(){const e=document.createElement("div");e.setAttribute("id","add-todo-form");const n=document.createElement("img");n.setAttribute("src","./img/close-light.svg"),n.setAttribute("class","close-button"),n.addEventListener("click",d.closeAddTodoForm);const o=document.createElement("form");o.setAttribute("action","#"),o.setAttribute("id","form");const c=document.createElement("div");c.setAttribute("class","form-item");const r=document.createElement("label");r.setAttribute("for","title");const i=document.createTextNode("Todo title:");r.appendChild(i);const s=document.createElement("input");s.setAttribute("type","text"),s.setAttribute("id","title"),s.setAttribute("name","title");const a=document.createElement("div");a.setAttribute("class","form-item");const l=document.createElement("label");l.setAttribute("for","description");const u=document.createTextNode("Todo description:");l.appendChild(u);const m=document.createElement("textarea");m.setAttribute("id","description"),m.setAttribute("name","description");const p=document.createElement("div");p.setAttribute("class","form-item");const h=document.createElement("label");h.setAttribute("for","due-date");const b=document.createTextNode("Todo due date:");h.appendChild(b);const E=document.createElement("input");E.setAttribute("type","date"),E.setAttribute("id","due-date"),E.setAttribute("name","due-date");const A=document.createElement("div");A.setAttribute("class","form-item");const f=document.createElement("label");f.setAttribute("for","priority");const C=document.createTextNode("Todo priority:");f.appendChild(C);const j=document.createElement("select");j.setAttribute("id","priority"),j.setAttribute("name","priority"),["Not urgent","Normal","Urgent"].forEach((function(t){let e=document.createElement("option");e.setAttribute("value",t);let n=document.createTextNode(t);e.appendChild(n),j.appendChild(e)}));const T=document.createElement("button");T.setAttribute("class","submit-button");const g=document.createTextNode("Submit");T.appendChild(g),T.addEventListener("click",d.addNewTodo),c.appendChild(r),c.appendChild(s),a.appendChild(l),a.appendChild(m),p.appendChild(h),p.appendChild(E),A.appendChild(f),A.appendChild(j),o.appendChild(c),o.appendChild(a),o.appendChild(p),o.appendChild(A),o.appendChild(T),e.appendChild(n),e.appendChild(o),t.appendChild(e)}}})();e.addProject("Test project"),n.addTodo("test","test description",new Date,"important",!1,1),n.addTodo("test2","another test description",new Date,"not important",!1,1),o.renderHeader(),o.renderProjects()})();