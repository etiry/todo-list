(()=>{"use strict";const t=(()=>{class t{constructor(t){this.title=t,this.tasks=[]}}let e=[];return{projectList:e,addProject:function(n){const d=new t(n);e.push(d)},getProjectIndex:function(t){return e.map((t=>t.title)).indexOf(t)},deleteProject:function(t){e.splice(t,1)},editProject:function(t,n,d){e[t][n]=d}}})();t.addProject("Default project");const e=t,n=(()=>{class t{constructor(t,e,n,d,o){this.title=t,this.description=e,this.dueDate=n,this.priority=d,this.completed=o}}return{addTodo:function(n,d,o,c,r,i){const s=new t(n,d,o,c,r,i);e.projectList[i].tasks.push(s)},deleteTodo:function(t,n){e.projectList[t].tasks.splice(n,1)},getTaskIndex:function(t){return e.projectList[e.getProjectIndex("Test project")].tasks.map((t=>t.title)).indexOf(t)},editTodo:function(t,n,d,o){e.projectList[t].tasks[n][d]=o}}})(),d=(()=>{let t=0;function d(){document.querySelector("#add-project-form").style.display="none"}function c(){document.querySelector("#add-task-form").style.display="none"}return{selectProject:function(n){t=e.getProjectIndex(n.target.innerText),o.renderTasks(t)},addNewProject:function(t){t.preventDefault();const n=document.querySelector("input[id=title]");e.addProject(n.value),d(),o.renderProjects()},addNewTask:function(e){e.preventDefault();const d=document.querySelector("input[id=title]"),r=document.querySelector("textarea[id=description]"),i=document.querySelector("input[id=due-date]"),s=document.querySelector("select[id=priority]");n.addTodo(d.value,r.value,i.value,s.value,!1,t),c(),o.renderTasks(t)},openAddProjectForm:function(){o.renderAddProjectForm()},closeAddProjectForm:d,openAddTaskForm:function(){o.renderAddTaskForm()},closeAddTaskForm:c}})(),o=(()=>{const t=document.getElementById("content");return{renderProjects:function(){t.innerHTML="";const n=document.createElement("button");n.setAttribute("class","add-project-button");const o=document.createElement("img");o.setAttribute("src","./img/add.svg"),n.appendChild(o),n.addEventListener("click",d.openAddProjectForm);const c=document.createElement("div");e.projectList.forEach((function(t){const e=document.createElement("div");e.setAttribute("class","project-name"),e.innerText=t.title,c.appendChild(e)})),t.appendChild(n),t.appendChild(c),document.querySelectorAll(".project-name").forEach((function(t){t.addEventListener("click",d.selectProject)}))},renderTasks:function(n){t.innerHTML="";const o=document.createElement("button");o.setAttribute("class","add-task-button");const c=document.createElement("img");c.setAttribute("src","./img/add.svg"),o.appendChild(c),o.addEventListener("click",d.openAddTaskForm);const r=document.createElement("div");e.projectList[n].tasks.forEach((function(t){const e=document.createElement("div");e.setAttribute("class","task-name"),e.innerText=t.title,r.appendChild(e)})),t.appendChild(o),t.appendChild(r)},renderAddProjectForm:function(){const e=document.createElement("div");e.setAttribute("id","add-project-form");const n=document.createElement("form");n.setAttribute("action","#"),n.setAttribute("id","form");const o=document.createElement("div");o.setAttribute("class","form-item");const c=document.createElement("label");c.setAttribute("for","title");const r=document.createTextNode("Project title:");c.appendChild(r);const i=document.createElement("input");i.setAttribute("type","text"),i.setAttribute("id","title"),i.setAttribute("name","title");const s=document.createElement("button");s.setAttribute("id","submit-new-project-form");const a=document.createTextNode("Submit");s.appendChild(a),s.addEventListener("click",d.addNewProject),o.appendChild(c),o.appendChild(i),n.appendChild(o),n.appendChild(s),e.appendChild(n),t.appendChild(e)},renderAddTaskForm:function(){const e=document.createElement("div");e.setAttribute("id","add-task-form");const n=document.createElement("form");n.setAttribute("action","#"),n.setAttribute("id","form");const o=document.createElement("div");o.setAttribute("class","form-item");const c=document.createElement("label");c.setAttribute("for","title");const r=document.createTextNode("Task title:");c.appendChild(r);const i=document.createElement("input");i.setAttribute("type","text"),i.setAttribute("id","title"),i.setAttribute("name","title");const s=document.createElement("div");s.setAttribute("class","form-item");const a=document.createElement("label");a.setAttribute("for","description");const u=document.createTextNode("Task description:");a.appendChild(u);const l=document.createElement("textarea");l.setAttribute("id","description"),l.setAttribute("name","description");const p=document.createElement("div");p.setAttribute("class","form-item");const m=document.createElement("label");m.setAttribute("for","due-date");const b=document.createTextNode("Task due date:");m.appendChild(b);const f=document.createElement("input");f.setAttribute("type","date"),f.setAttribute("id","due-date"),f.setAttribute("name","due-date");const h=document.createElement("div");h.setAttribute("class","form-item");const A=document.createElement("label");A.setAttribute("for","priority");const E=document.createTextNode("Task priority:");A.appendChild(E);const j=document.createElement("select");j.setAttribute("id","priority"),j.setAttribute("name","priority"),["Not urgent","Normal","Urgent"].forEach((function(t){let e=document.createElement("option");e.setAttribute("value",t);let n=document.createTextNode(t);e.appendChild(n),j.appendChild(e)}));const C=document.createElement("button");C.setAttribute("id","submit-new-task-form");const T=document.createTextNode("Submit");C.appendChild(T),C.addEventListener("click",d.addNewTask),o.appendChild(c),o.appendChild(i),s.appendChild(a),s.appendChild(l),p.appendChild(m),p.appendChild(f),h.appendChild(A),h.appendChild(j),n.appendChild(o),n.appendChild(s),n.appendChild(p),n.appendChild(h),n.appendChild(C),e.appendChild(n),t.appendChild(e)}}})();e.addProject("Test project"),n.addTodo("test","test description",new Date,"important",!1,1),n.addTodo("test2","another test description",new Date,"not important",!1,1),o.renderProjects()})();